<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF8">
<style>
p.c    { }
h1     { font-size: 160%; font-weight: bold; padding-top: 1ex; padding-bottom: 1ex; }
div.s1 { margin-left: 20px; padding-left: 10px; font-weight: bold; }
div.s2 { margin-left: 80px; padding-left: 10px; font-weight: bold; }
div.s3 { margin-left: 140px; padding-left: 10px; font-weight: bold; }
div.r1 { margin-left: 20px; padding-left: 10px; }
div.r2 { margin-left: 80px; padding-left: 10px; }
div.r3 { margin-left: 140px; padding-left: 10px; }
div.e  { margin-left: 20px; padding-left: 10px; font-weight: bold; <!--color: darkblue;--> }
div.r  { margin-left: 20px; padding-left: 10px; <!--color: darkblue;--> }
</style>
</head>
<body>
<h1>
Дополнительные атрибуты
</h1>
<p class="C">
Несколько примеров:
</p>
<ul class="U">
<li>Авторы: роль (автор, редактор, переводчик и т. п.);</li>
<li>Книги: аннотация;</li>
<li>Операции: текущий статус (оплачено, передано в службу доставки и т. п.).</li>
</ul>
<h1>
Издательства
</h1>
<p class="C">
Надо добавить сущность "Издательство" с атрибутом "Название" (как минимум).
</p>
<p class="C">
Книги связаны с издательствами отношением "многие-ко-многим": книга может
публиковаться в разных издательствах. Поэтому на физическом уровне потребуется
промежуточная таблица "Публикации" с атрибутом "Год издания".
</p>
<p class="C">
(Разумеется, это упрощенная модель; при желании ее можно уточнять еще
очень долго.)
</p>
<h1>
Серии
</h1>
<p class="C">
Добавим сущность "Серия". К серии относится не сама книга, а ее конкретная
публицация, так что имеет смысл вывести "Публикацию" на уровень ER-модели и
связать ее с серией отношением "один-ко-многим" (каждая публикация принадлежит
к одной серии, каждая серия может включать несколько публикаций).
</p>
<p class="C">
Также серия связана отношением "один-ко-многим" с издательством
(у издательства может быть несколько серий, а каждая серия принадлежит
конкретному издательству).
</p>
<p class="C">
Остается вопрос о внесерийных изданиях. Его можно решить либо введением
фиктивной серии "Без серии", либо возможностью не указывать для публикации
внешний ключ серии.
</p>
<h1>
Компьютерные комплектующие
</h1>
<p class="C">
Рассматривая каждый конкретный тип комплектующих, можно без труда
выделить необходимые атрибуты. Какие-то атрибуты будут общими (скажем,
фирма-производитель и название модели), а какие-то будут иметь смысл только
для данного конкретного типа. Например:
</p>
<ul class="U">
<li>Процессор: частота;</li>
<li>Монитор: диагональ, разрешение;</li>
<li>Жесткий диск: типоразмер, емкость.</li>
</ul>
<p class="C">
Проблема в том, что рынок комплектующих очень динамичен. Некоторое время назад
жесткие диски определялись частотой вращения и емкостью, а сейчас важен тип
(твердотельный, вращающийся, гибридный). Для мониторов во времена ЭЛТ была
важна частота обновления, а сейчас важен тип матрицы. Дисководы уже никому
не нужны, зато появились флеш-накопители. И так далее.
</p>
<p class="C">
Таким образом, либо придется постоянно изменять схему данных (а, значит,
и постоянно изменять приложение, которое работает с этими данными!), либо
искать более универсальную модель за счета отказа от жесткой структуры и
контроля согласованности. Некоторые универсальные модели (например, хранение
части данных в JSON) мы затрагивали в презентации.
</p>
</body>
</html>
